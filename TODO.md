# Todo

- [x] Compile with typescript using `wool make ...`
- [ ] Bundle into an installable executable
  - `pkg` is the best option
  - However it critically does not support esm loaders
- [x] Add `direct` and `indirect` groupings to dependencies
- [ ] Automatically fix order of workspaces so they build in the correct order, based on the dependency graph
- [ ] Embed a specific node version into `wool`
  - This will prevent issues around incompatible node versions
  - It will make community upgrades easier as it will only be tied to the wool version, not the node version outside of our control
- [ ] Spike using `deno` instead of node
  - It is _very_ early days so no need to do this yet
- [ ] Change exec of \*nix specific tools to a compatibility layer to make it work on windows as well
- [ ] Reduce node api surface
  - May be controversial, but would help if there is a switch to deno perhaps
  - e.g. `import { path } from 'wool/node';`
  - or `import { path } from 'wool';`
  - or `import { path } from 'node/path';`
- [ ] Catch all errors and map through sourcemaps to ts code
- [ ] Add `wool stats` (tbd) for stats on installed packages
- [ ] Suppress esm experimental warning (not any others)
- [ ] Fix `wool.lock` to include direct and indirect deps from parent workspace
- [ ] Rename `wool.lock` to `wool-lock.json` since it is a json file
- [ ] Fix `wool add` to handle down registries
- [ ] Add `wool add npm/example` to install npm packages with caveats
  - Only in private packages
- [ ] Add a `wool-stats.json` to store compilation info
- [ ] When running `wool run` check for missing dependencies, run a `wool make .` if required and a `wool add ...` for the remaining non-local deps
- [ ] Change global add to `wool install wool/cli`
  - [ ] And `wool install wool/cli -v 0.2.0`
- [ ] Add generic run configs, `wool run -c example.json lsjroberts/example`
- [ ] `wool run` should run the version that matches the local dep unless version specified
- [x] Add `tasks` for `wool task . build` from `{ "tasks": { "build": "do thing" } }`
  - [x] With built-in nesting, `wool task . build.web` from `{ "tasks": { "build": { "web": "do web" } } }`, and `wool task . build` would run all nested tasks.
  - [ ] Shortcut cwd with `wool task build`
